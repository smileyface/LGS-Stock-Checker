{% extends "base.html" %}

{% block content %}
<div class="container mt-4">
    <h1>Dashboard</h1>
    <p>Welcome, <strong>{{ username }}</strong>!</p>

    <h2>Your Tracked Cards</h2>
    <table class="table table-striped table-bordered" id="cardTable">
        <thead>
            <tr>
                <th>Amount</th>
                <th>Card Name</th>
                <th>Set Code</th>
                <th>Collector Number</th>
                <th>Finish</th>
            </tr>
        </thead>
        <tbody id="cardTableBody">
            <tr class="placeholder-row" style="display: none;"><td colspan="5">Loading...</td></tr>
        </tbody>
    </table>


    <h2>Filter Stores</h2>
    <div class="mb-3">
        {% for store in all_stores %}
        <div class="form-check form-check-inline">
            <input class="form-check-input" type="checkbox" name="storeFilter" value="{{ store }}" id="store_{{ store }}">
            <label class="form-check-label" for="store_{{ store }}">{{ store }}</label>
        </div>
        {% endfor %}
    </div>

    <h2>Card Availability</h2>
    <table class="table table-striped">
        <thead>
            <tr>
                <th>Card Name</th>
                <th>Stores</th>
            </tr>
        </thead>
        <tbody id="availabilityTableBody">
            <tr><td colspan="2">Loading...</td></tr>
        </tbody>
    </table>

    <a href="{{ url_for('user_bp.account_settings') }}" class="btn btn-secondary">Account Settings</a>
</div>
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='js/dashboard.js') }}"></script>
{% endblock %}
