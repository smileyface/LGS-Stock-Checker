# This file is for development-specific overrides.
# It is automatically used by `docker compose up` in a local environment.
# It should NOT be checked into version control if it contains secrets.

services:
  backend:
    volumes:
      # Mount the backend source code to the working directory for hot-reloading.
      # This allows changes in your local code to be immediately reflected in the container.
      - ./LGS_Stock_Backend:/app
  frontend:
    # Override for development to use Vite's dev server
    build:
      context: ./frontend
      dockerfile: Dockerfile
      target: development-stage
    ports:
      - "5173:5173" # Expose Vite's port instead of Nginx's
    volumes:
      # Mount source code for hot-reloading.
      # The node_modules directory is a separate, anonymous volume
      # to prevent the host's node_modules from overwriting the container's.
      - ./frontend:/app
      - /app/node_modules
